@model List<MenFashionProject.Models.Order>
@{
    ViewData["Title"] = "Dashboard";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml"; // Trỏ đúng Layout Admin
}

<div class="row mb-4">
    <div class="col-md-4">
        <div class="card text-white bg-success mb-3 h-100">
            <div class="card-body">
                <h5 class="card-title">Doanh Thu</h5>
                <p class="card-text fs-2 fw-bold">
                    @if (ViewBag.TotalRevenue != null)
                    {
                        @(((decimal)ViewBag.TotalRevenue).ToString("#,##0"))
                    }
                    else
                    {
                        <span>0</span>
                    }
 đ
                </p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-white bg-primary mb-3 h-100">
            <div class="card-body">
                <h5 class="card-title">Tổng Đơn Hàng</h5>
                <p class="card-text fs-2 fw-bold">@ViewBag.TotalOrders</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card text-white bg-warning mb-3 h-100">
            <div class="card-body">
                <h5 class="card-title">Sản Phẩm</h5>
                <p class="card-text fs-2 fw-bold">@ViewBag.TotalProducts</p>
            </div>
        </div>
    </div>
</div>

<h4 class="fw-bold mt-4 mb-3">Đơn Hàng Mới Nhất</h4>
<table class="table table-bordered bg-white">
    <thead class="table-light">
        <tr>
            <th>Mã Đơn</th>
            <th>Khách Hàng</th>
            <th>Ngày Đặt</th>
            <th>Tổng Tiền</th>
            <th>Trạng Thái</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td>@item.Code</td>
                <td>
                    @item.CustomerName <br>
                    <small class="text-muted">@item.Phone</small>
                </td>
                <td>@item.CreatedDate?.ToString("dd/MM/yyyy HH:mm")</td>
                <td class="fw-bold text-danger">@item.TotalAmount?.ToString("#,##0") đ</td>
                <td>
                    @if (item.Status == 1)
                    {
                        <span class="badge bg-warning text-dark">Chờ xử lý</span>
                    }
                    else if (item.Status == 2)
                    {

                        <span class="badge bg-primary">Đã xác nhận</span>
                    }
                    else
                    {

                        <span class="badge bg-success">Hoàn thành</span>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>